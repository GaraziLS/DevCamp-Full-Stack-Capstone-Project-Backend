## Creating the API endpoints

Still on the **app.py** file, we'll create our API endpoints there. We'll have the following endpoints:

<!-- 
* POST 
    /create -> Creates a new item
    /users/login -> Logs a user in

* PUT/PATCH
    /tables/{item_id} -> Updates an item

* GET
    /tables -> Gets all the items
    /tables/{table_id} -> Gets a single item

* DELETE
    /tables/{item_id} -> Deletes an item
 -->

First of all, we'll import two more libraries from flask:

```
from flask import Flask, request, jsonify
```

Now we can start with our endpoints.

```
@app.route("/create", methods=['POST'])
def add_item():
    title = request.json["title"]
    content = request.json["content"]
```

So w're calling the app itself and passing the route and the method it's going to take. Then, we're doing a title and content request and we're storing each one in a variable. We're passing those variables to our table, and we're then storing all of that inside another variable. 

```
@app.route("/create", methods=['POST'])
def add_item():
    title = request.json["title"]
    content = request.json["content"]

    new_item = item(title, content)
```

We'll use this last variable (new_item) to connect with the database itself, and will then commit the changes. Now we'll return the guide itself to query the new_item in, along with the primary key of the table we're querying. Then, we'll be returning the schema, parsing it with json, and returning the table itself:

```
@app.route("/create", methods=['POST'])
def add_item():
    title = request.json["title"]
    content = request.json["content"]

    new_item = item(title, content)

    db.session.add(new_item)
    db.session.commit()

    Item = item.query.get(new_item.item_id)

    return item_schema.jsonify(item)
```